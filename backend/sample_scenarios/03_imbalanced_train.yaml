# =============================================================================
# Scenario 3: Imbalanced Train (Reduce 50% Failures)
# =============================================================================
# Train set: Giảm 50% số build failure để tạo imbalance
# Val/Test: Giữ nguyên tỷ lệ gốc
# Mục đích: Test model performance với training data imbalanced

scenario:
  name: "imbalanced_train_reduce_failures"
  description: "Imbalanced training: reduce 50% failure samples in train"
  version: "1.0"

data_source:
  repositories:
    filter_by: "all"
  builds:
    date_range:
      start: "2024-01-01"
      end: "2024-12-31"
    conclusions: ["success", "failure"]
    exclude_bots: true

splitting:
  strategy: "imbalanced_train"
  group_by: "language_group"
  config:
    ratios:
      train: 0.70
      val: 0.15
      test: 0.15
    reduce_label: 1              # Label 1 = failure
    reduce_ratio: 0.5            # Reduce 50% of failures in train

preprocessing:
  missing_values_strategy: "fill"    # Entity field names (flat)
  fill_value: 0
  normalization_method: "z_score"

output:
  format: "parquet"
  include_metadata: true
