# =============================================================================
# Scenario 5: Time of Day Split (Grouped by Build Time)
# =============================================================================
# Group builds theo thời điểm chạy: night/morning/afternoon/evening
# Stratified split trong mỗi time group

scenario:
  name: "time_of_day_stratified"
  description: "Split by time of day: night, morning, afternoon, evening"
  version: "1.0"

data_source:
  repositories:
    filter_by: "all"
  builds:
    date_range:
      start: "2024-01-01"
      end: "2024-12-31"
    conclusions: ["success", "failure"]
    exclude_bots: true

splitting:
  strategy: "stratified_within_group"
  group_by: "time_of_day"        # Groups: night (0-6), morning (6-12), afternoon (12-18), evening (18-24)
  config:
    ratios:
      train: 0.70
      val: 0.15
      test: 0.15
    stratify_by: "outcome"

output:
  format: "parquet"
  include_metadata: true
