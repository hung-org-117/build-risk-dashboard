# =============================================================================
# Scenario 2: Leave-One-Out by Language Group
# =============================================================================
# Python repos → Test (kiểm tra generalization sang ngôn ngữ khác)
# JavaScript repos → Validation
# Java + Go + Rust → Train

scenario:
  name: "leave_one_out_python_test"
  description: "Test generalization: train on Java/Go/Rust, test on Python"
  version: "1.0"

data_source:
  repositories:
    filter_by: "by_language"
    languages: ["python", "javascript", "java", "go", "rust"]
  builds:
    date_range:
      start: "2024-01-01"
      end: "2024-12-31"
    conclusions: ["success", "failure"]
    exclude_bots: true

splitting:
  strategy: "leave_one_out"
  group_by: "language_group"
  config:
    test_groups: ["backend"]      # Python, Java, Go, Rust → mapped to "backend"
    val_groups: ["fullstack"]     # JavaScript → mapped to "fullstack"  
    train_groups: ["scripting", "other"]
    # Alternative: specify exact languages
    # test_languages: ["python"]
    # val_languages: ["javascript"]
    # train_languages: ["java", "go", "rust"]

output:
  format: "parquet"
  include_metadata: true
