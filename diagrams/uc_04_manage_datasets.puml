@startuml
'===============================================================
' UC-04: MANAGE DATASETS (Admin)
'===============================================================

skinparam actorStyle stick
skinparam usecase {
    BorderColor #333333
    BackgroundColor #FFFFCC
}

left to right direction

' =============== ACTORS ===============
actor "Admin" as Admin
actor "User" as User
actor "Guest\n(Read-only)" as Guest
actor "Github" as Github
actor "CI Provider" as CI
actor "Scan Tools" as ScanTools
Admin --|> User

' =============== SYSTEM BOUNDARY ===============
rectangle {
    usecase "View Datasets /\nBuilds (read-only)" as UC_View
    usecase "Upload Dataset" as UC_Upload
    usecase "Validate\nRepositories" as UC_ValidateRepos
    usecase "Validate Builds" as UC_ValidateBuilds
    usecase "Create Dataset\nVersion" as UC_CreateVersion
    usecase "EnrichData" as UC_Enrich
    usecase "Download / Export\nDataset version" as UC_Download
    usecase "Scan dataset\ncommits" as UC_ScanCommits
    usecase "View Scan\nResults" as UC_ViewScanResults
}

' =============== ADMIN ASSOCIATIONS ===============
Admin --> UC_View
Admin --> UC_Upload
Admin --> UC_ValidateRepos
Admin --> UC_ValidateBuilds
Admin --> UC_CreateVersion
Admin --> UC_Download
Admin --> UC_ScanCommits

' =============== USER / GUEST VIEW ACCESS ===============
User --> UC_View
Guest --> UC_View
User --> UC_Download
Guest --> UC_Download

' =============== RELATIONSHIPS ===============
UC_CreateVersion ..> UC_Enrich : <<include>>
UC_ScanCommits ..> UC_ViewScanResults : <<include>>

' =============== EXTERNAL SYSTEM CONNECTIONS ===============
UC_ValidateRepos --> Github
UC_ValidateBuilds --> CI
UC_ViewScanResults --> ScanTools

note right of UC_View
  Guests and regular users can browse
  datasets/build validation results and
  download/export versions they are
  allowed to access.
  All write actions remain admin only.
end note

@enduml
