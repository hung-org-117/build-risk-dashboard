@startuml
'===============================================================
' UC-05: VIEW / EXPORT DATASETS (User & Guest, Admin inherits)
'===============================================================

skinparam actorStyle stick
skinparam usecase {
    BorderColor #333333
    BackgroundColor #FFFFCC
}

left to right direction

' =============== ACTORS ===============
actor "Admin" as Admin
actor "User" as User
Admin --|> User
actor "Guest\n(Read-only)" as Guest

' =============== SYSTEM BOUNDARY ===============
rectangle {
    usecase "Browse Datasets" as UC_Browse
    usecase "Search / Filter\nDatasets" as UC_Filter
    usecase "View Dataset\nDetails" as UC_Details
    usecase "View Dataset\nVersions" as UC_Versions
    usecase "Download /\nExport Version" as UC_Download
    usecase "View Version\nMetadata" as UC_Metadata
}

' =============== ASSOCIATIONS ===============
User --> UC_Browse
Guest --> UC_Browse
User --> UC_Filter
Guest --> UC_Filter
User --> UC_Download
Guest --> UC_Download

UC_Browse ..> UC_Filter : <<extend>>
UC_Browse ..> UC_Details : <<include>>
UC_Details ..> UC_Versions : <<include>>
UC_Versions ..> UC_Metadata : <<include>>
UC_Versions ..> UC_Download : <<include>>

note right of UC_Download
  Users and Guests can only
  export versions for which
  they have explicit access.
end note

@enduml
