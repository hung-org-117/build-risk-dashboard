@startuml
'===============================================================
' UC-11: MANAGE GUEST INVITATIONS (Admin + Guest acceptance)
'===============================================================

skinparam actorStyle stick
skinparam usecase {
    BorderColor #333333
    BackgroundColor #FFFFCC
}

left to right direction

' =============== ACTORS ===============
actor "Admin" as Admin
actor "Guest" as Guest
actor "Email Service" as Email

' =============== SYSTEM BOUNDARY ===============
rectangle {
    usecase "Issue Guest\nInvitation" as UC_Issue
    usecase "Configure Scope /\nExpiry" as UC_Scope
    usecase "Resend Invitation\nEmail" as UC_Resend
    usecase "Revoke Invitation" as UC_Revoke
    usecase "Track Invitation\nStatus" as UC_Track
    usecase "Accept Invitation\n& Sign In" as UC_Accept
}

' =============== FLOWS ===============
Admin --> UC_Issue
Admin --> UC_Resend
Admin --> UC_Revoke
Admin --> UC_Track

UC_Issue ..> UC_Scope : <<include>>
UC_Issue --> Email
UC_Resend --> Email
UC_Revoke ..> UC_Track : <<extend>>
UC_Issue ..> UC_Track : <<include>>

Guest --> UC_Accept
UC_Accept ..> UC_Track : <<include>>

note right of UC_Scope
  Define repositories/datasets
  the guest can view, and set
  invitation expiry/uses.
end note

note bottom of UC_Accept
  Guest uses emailed token to
  accept and create a limited
  read-only session.
end note

@enduml
